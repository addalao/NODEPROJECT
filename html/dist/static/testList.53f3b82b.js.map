{"version":3,"file":"testList.53f3b82b.js","sources":["../../src/common/currentBtn.js","../../src/components/table/tableList.vue","../../src/views/test/columns.jsx","../../src/views/test/testList.vue"],"sourcesContent":["import {computed} from 'vue'\nimport store from '../store/index.js'\nimport router from '../router/index.js'\nimport { useRoute } from 'vue-router'\n\nexport const currentBtn = computed(()=>{\n   const route = useRoute() //目前不写在计算属性中 route会变成undefined ,不要尝试使用router的路径,会存在很奇怪的bug\n   const top = []\n   const right = []\n   const menuList = store.state.page.menuList //总菜单栏\n   const currentItem = gteCurrentItem(menuList,route.path) //当前页面的菜单对象\n    \n    const cur = currentItem?.children\n    if(cur?.length){\n       cur.forEach((item)=>{\n          if(item.code == 'right') {\n             right.push(item)\n          }else if(item.code == 'top'){\n             top.push(item)\n          }\n       }) \n    }else {\n       console.warn('tabeList可能未找到操作按钮,第一次渲染或没有操作按钮请忽略')\n    }\n    return {\n       top,\n       right\n    }\n})\n \n function gteCurrentItem(list,path){//获取当前页面的菜单对象\n    let currentItem;\n    for(let i in list){\n      if(currentItem){\n         break;\n      }\n      const item = list[i]\n       if(item.uri == path){\n         \n          currentItem = item\n       }else if(item.children?.length){\n          currentItem = gteCurrentItem(item.children,path)\n       }\n    }\n    return currentItem\n }","<template>\n    <div class=\"tabeListDataAllClass\">\n        <div class=\"topBox\">\n          top按钮\n          <n-button type=\"primary\" v-for=\"(item,index) in currentBtn.top\" :key=\"index\" @click=\"btnclick(item)\">\n              {{item.name}}\n          </n-button>\n          \n        </div>\n        <n-data-table\n          :columns=\"state.columns\"\n          :data=\"data\"\n        \n        />\n        <n-pagination\n          v-model:page=\"pagination.page\"\n          v-model:page-size=\"pagination.pageSize\"\n          :page-count=\"pagination.total\"\n          show-size-picker\n          :page-sizes=\"[10, 20, 30, 40]\"\n        />\n    </div>\n  \n  \n  </template>\n  <script  lang=\"jsx\" setup>\n  import { useStore } from 'vuex';\n  import { useRoute,useRouter } from 'vue-router';\n  import {computed, reactive,watch} from 'vue'\n  import {currentBtn} from '@cn/currentBtn.js' //当前页面的操作按钮 \n  const route = useRoute()\n  const router = useRouter()\n  const pagination = reactive({\n    page:1,\n    pageSize:10,\n    total:100\n  })\n  \n  const props = defineProps({\n      columns:{\n          type: Array,\n          default: () => []\n      }\n  })\n\n  const state = reactive({\n    columns:props.columns\n  })\n\n  const data = [\n    {\n      key: 0,\n      name: \"John Brown\",\n      age: 32,\n      address: \"New York No. 1 Lake Park\",\n      tags: '1'\n    },\n    {\n      key: 1,\n      name: \"Jim Green\",\n      age: 42,\n      address: \"London No. 1 Lake Park\",\n      tags: '1'\n    },\n    {\n      key: 2,\n      name: \"Joe Black\",\n      age: 32,\n      address: \"Sidney No. 1 Lake Park\",\n      tags: '1'\n    },\n    {\n      key: 3,\n      name: \"Joe Black\",\n      age: 32,\n      address: \"Sidney No. 1 Lake Park\",\n      tags: '1'\n    },\n    {\n      key: 4,\n      name: \"Joe Black\",\n      age: 32,\n      address: \"Sidney No. 1 Lake Park\",\n      tags: '1'\n    },\n    {\n      key: 5,\n      name: \"Joe Black\",\n      age: 32,\n      address: \"Sidney No. 1 Lake Park\",\n      tags: '1'\n    },\n    {\n      key: 6,\n      name: \"Joe Black\",\n      age: 32,\n      address: \"Sidney No. 1 Lake Park\",\n      tags: '1'\n    },\n    {\n      key: 7,\n      name: \"Joe Black\",\n      age: 32,\n      address: \"Sidney No. 1 Lake Park\",\n      tags: '1'\n    },\n    {\n      key: 8,\n      name: \"Joe Black\",\n      age: 32,\n      address: \"Sidney No. 1 Lake Park\",\n      tags: '1'\n    },\n    {\n      key: 9,\n      name: \"Joe Black\",\n      age: 32,\n      address: \"Sidney No. 1 Lake Park\",\n      tags: '1'\n    },\n    {\n      key: 10,\n      name: \"Joe Black\",\n      age: 32,\n      address: \"Sidney No. 1 Lake Park\",\n      tags: '1'\n    },\n    {\n      key: 11,\n      name: \"Joe Black\",\n      age: 32,\n      address: \"Sidney No. 1 Lake Park\",\n      tags: '1'\n    },\n  ]\n\n  const btnclick = (item)=>{ //仅用于测试\n     if(item.id == 574){\n        router.push('/street/province')\n     }\n  }\n  watch(()=>props.columns,(vla)=>{\n    state.columns = vla\n  })\n  watch(()=>[\n    pagination.page,\n    pagination.pageSize,\n  ],(value)=>{\n    console.log(value);\n  })\n  function mybtnclick(item,row){\n    // console.log(item);\n    // console.log(row);\n  }\n  </script>\n  \n  <style  lang=\"scss\">\n  // 不使用 scoped ，因为jsx语法不支持，此页面所有样式都应该写在tabeListDataAllClass中\n  .tabeListDataAllClass{\n    width: 100%;\n    height: 100%;\n    .rightBtnBox{\n      width: 100%;\n      height: 100%;\n      display: flex;\n      align-items: center;\n      flex-wrap: wrap;\n    }\n    .rightBtn{\n      margin-right: 5px;\n    }\n  }\n  \n  </style>","export const columns = [\n    {\n      title: \"Name\",\n      key: \"name\"\n    },\n    {\n      title: \"Age\",\n      key: \"age\"\n    },\n    {\n      title: \"Address\",\n      key: \"address\"\n    },\n    {\n      title: \"Tags\",\n      key: \"tags\",\n     \n    },\n    {\n      title: \"Action\",\n      key: \"actions\",\n      render(row) {\n        // const top = []\n        // currentBtn.value.right.forEach(item => {\n        //   top.push(<div class='rightBtn' onClick={()=>{\n        //     mybtnclick(item,row)\n        //   }}><n-button>{item.name}</n-button></div>)\n          \n        // })\n\n        return '1'\n        // return <div class='rightBtnBox'>{top}</div>\n      }\n    }\n  ];","<template>\n  <div class=\"testList\">\n    <TableList :columns=\"res\"></TableList>\n  </div>\n\n\n</template>\n<script setup >\nimport TableList from '../../components/table/tableList.vue'\nimport {columns} from './columns.jsx'\nconst res = columns\n// console.log(res);\n\n</script>\n\n<style  lang=\"scss\">\n\n\n\n</style>"],"names":["currentBtn","computed","route","useRoute","top","right","menuList","store","currentItem","gteCurrentItem","cur","item","list","path","i","_a","router","useRouter","pagination","reactive","page","pageSize","total","state","columns","props","data","key","name","age","address","tags","btnclick","id","push","watch","vla","value","console","log","title","render","row","res"],"mappings":"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"}